{% extends "base.html" %}

{% block content %}
    
    <h2>My Tasks</h2>
    <div class="projects-grid">
        {% for task in tasks %}
        <div class="project-card">
            <h3>{{ task.title|upper }}</h3>
            <p class="due-date">ðŸ“… Due: {{ task.due_date }}</p>
            <p>Priority: <span class="tech-tag">{{ task.priority }}</span></p>
            <p>Status: <span class="status {% if task.status == 'Completed' %}status-completed{% else %}status-in-progress{% endif %}">{{ task.status }}</span></p>
            
            <div style="margin-top: 15px; display: flex; gap: 10px; justify-content: center;">
                <a href="{{ url_for('task_detail', id=task.id) }}" class="btn btn-primary">View</a>
                <a href="{{ url_for('delete_task', id=task.id) }}" class="btn btn-danger" onclick="return confirm('Delete this task?')">Delete</a>
            </div>
        </div>
        {% endfor %}
    </div>

    <h2>Dashboard</h2>
    <div class="stats-container">
        <div class="stat-card">
            <h4>Total Tasks</h4>
            <p>{{ stats.total }}</p>
        </div>
        <div class="stat-card" style="border-top-color: #48bb78;">
            <h4>Completed</h4>
            <p>{{ stats.completed }}</p>
        </div>
        <div class="stat-card" style="border-top-color: #ed8936;">
            <h4>Pending</h4>
            <p>{{ stats.pending }}</p>
        </div>
    </div>
{% endblock %}